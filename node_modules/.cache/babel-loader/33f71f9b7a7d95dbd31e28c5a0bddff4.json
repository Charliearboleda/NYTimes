{"ast":null,"code":"import _regeneratorRuntime from\"/Users/charliearboleda/dev/NYTimesBestSeller/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/charliearboleda/dev/NYTimesBestSeller/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/charliearboleda/dev/NYTimesBestSeller/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/charliearboleda/dev/NYTimesBestSeller/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12;import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router\";import{useSelector}from\"react-redux\";import axios from\"axios\";import styled from\"styled-components\";import AmazonLogoImg from\"../images/amazon.png\";import Sorting from\"./features/SortBooks\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var CardContainerHeader=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  margin: 30px 9vw 50px 9vw;\\n  align-items: center;\\n\"])));var ListName=styled.h3(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  font: 400 1.6rem barlow;\\n\"])));var CardContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-wrap: wrap;\\n  margin: 30px 8vw 50px 8vw;\\n  justify-content: center;\\n\"])));var Card=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin: 20px;\\n  padding: 10px;\\n  border: 2px solid #03045e33;\\n  width: 20vw;\\n  flex: 1;\\n  flex-basis: 25%;\\n  border-radius: 8px;\\n  position: relative;\\n  box-shadow: 4px 4px #03045e33;\\n\"])));var Title=styled.h3(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font: 500 1.1rem sen;\\n  margin: 10px 0 15px 0;\\n  border-bottom: 1px solid #0003;\\n  padding-bottom: 10px;\\n  color: #22007c;\\n\"])));var Author=styled.h5(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font: 400 1rem barlow;\\n  margin: 10px 0 0 0;\\n\"])));var Rank=styled.h5(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  font: 400 1rem barlow;\\n  margin: 10px 0 0 0;\\n  color: #22007c;\\n\"])));var Publisher=styled.h3(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  font: 400 0.8rem barlow;\\n  margin: 8px 0 0 0;\\n  border-bottom: 1px solid #0003;\\n  padding-bottom: 25px;\\n\"])));var Description=styled.p(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  font: 400 0.9rem barlow;\\n  margin: 22px 0 50px 0;\\n  letter-spacing: 0.2px;\\n  word-spacing: 1px;\\n\"])));var BuyBookBox=styled.a(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  text-decoration: none;\\n\"])));var ProductUrl=styled.h4(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  color: #777;\\n  text-decoration: none;\\n  font: 700 0.8rem barlow;\\n  margin: 0 0 20px 0;\\n\"])));var AmazonLogo=styled.img(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  width: 80px;\\n  position: absolute;\\n  bottom: -10px;\\n  left: -15px;\\n\"])));export default function IdPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),bookList=_useState2[0],setBookList=_useState2[1];var loading=useSelector(function(state){return state.loading;});var params=useParams();useEffect(function(){fetchBookList();// eslint-disable-next-line\n},[params]);var fetchBookList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var bookListUrl,apiKey,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:bookListUrl=\"https://api.nytimes.com/svc/books/v3/lists.json?list\";apiKey=\"FGuAAGxWuiRNhKjRZsrPKUUiSbtOJUG1\";_context.next=4;return axios.get(\"\".concat(bookListUrl,\"=\").concat(params.idpage,\"&api-key=\").concat(apiKey)).catch(function(err){console.log(err);});case 4:response=_context.sent;setBookList(response.data.results);case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchBookList(){return _ref.apply(this,arguments);};}();console.log(bookList);var listName=params.idpage.replaceAll(\"-\",\" \").split(\" \");for(var i=0;i<listName.length;i++){listName[i]=\" \"+listName[i].charAt(0).toUpperCase()+listName[i].slice(1);}return/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\"},children:[/*#__PURE__*/_jsxs(CardContainerHeader,{children:[/*#__PURE__*/_jsxs(ListName,{children:[/*#__PURE__*/_jsxs(\"span\",{style:{font:\"400 1.6rem barlow\",color:\"#03045e\"},children:[bookList.length,\" \"]}),\"results for:\",/*#__PURE__*/_jsx(\"span\",{style:{font:\"400 1.6rem barlow\",color:\"#03045e\"},children:listName})]}),/*#__PURE__*/_jsx(Sorting,{bookList:bookList,setBookList:setBookList})]}),!loading?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CardContainer,{children:bookList.map(function(books,key){return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Title,{children:books.book_details[0].title}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsxs(Author,{children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:\"#0008\",font:\"500 1rem sen\"},children:[\"Author:\",\" \"]}),books.book_details[0].author]}),/*#__PURE__*/_jsxs(Rank,{children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:\"#0008\",font:\"500 .8rem sen\"},children:[\"Rank:\",\" \"]}),books.rank]})]}),/*#__PURE__*/_jsxs(Publisher,{children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:\"#0008\",font:\"500 .8rem sen\"},children:[\"Publisher:\",\" \"]}),books.book_details[0].publisher]}),/*#__PURE__*/_jsx(Description,{children:books.book_details[0].description?books.book_details[0].description:\"No description\"}),/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",bottom:\"5px\"},children:/*#__PURE__*/_jsxs(BuyBookBox,{href:books.amazon_product_url,target:\"_blank\",children:[/*#__PURE__*/_jsx(ProductUrl,{children:\"Buy Book\"}),/*#__PURE__*/_jsx(AmazonLogo,{src:AmazonLogoImg})]})})]},key);})})}):/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})]});}","map":{"version":3,"sources":["/Users/charliearboleda/dev/NYTimesBestSeller/src/components/Books.js"],"names":["React","useEffect","useState","useParams","useSelector","axios","styled","AmazonLogoImg","Sorting","CardContainerHeader","div","ListName","h3","CardContainer","Card","Title","Author","h5","Rank","Publisher","Description","p","BuyBookBox","a","ProductUrl","h4","AmazonLogo","img","IdPage","bookList","setBookList","loading","state","params","fetchBookList","bookListUrl","apiKey","get","idpage","catch","err","console","log","response","data","results","listName","replaceAll","split","i","length","charAt","toUpperCase","slice","width","font","color","map","books","key","book_details","title","display","alignItems","justifyContent","author","rank","publisher","description","position","bottom","amazon_product_url"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { useSelector } from \"react-redux\";\n\nimport axios from \"axios\";\n\nimport styled from \"styled-components\";\n\nimport AmazonLogoImg from \"../images/amazon.png\";\n\nimport Sorting from \"./features/SortBooks\";\n\nconst CardContainerHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 30px 9vw 50px 9vw;\n  align-items: center;\n`;\n\nconst ListName = styled.h3`\n  font: 400 1.6rem barlow;\n`;\n\nconst CardContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin: 30px 8vw 50px 8vw;\n  justify-content: center;\n`;\n\nconst Card = styled.div`\n  margin: 20px;\n  padding: 10px;\n  border: 2px solid #03045e33;\n  width: 20vw;\n  flex: 1;\n  flex-basis: 25%;\n  border-radius: 8px;\n  position: relative;\n  box-shadow: 4px 4px #03045e33;\n`;\n\nconst Title = styled.h3`\n  font: 500 1.1rem sen;\n  margin: 10px 0 15px 0;\n  border-bottom: 1px solid #0003;\n  padding-bottom: 10px;\n  color: #22007c;\n`;\n\nconst Author = styled.h5`\n  font: 400 1rem barlow;\n  margin: 10px 0 0 0;\n`;\n\nconst Rank = styled.h5`\n  font: 400 1rem barlow;\n  margin: 10px 0 0 0;\n  color: #22007c;\n`;\n\nconst Publisher = styled.h3`\n  font: 400 0.8rem barlow;\n  margin: 8px 0 0 0;\n  border-bottom: 1px solid #0003;\n  padding-bottom: 25px;\n`;\n\nconst Description = styled.p`\n  font: 400 0.9rem barlow;\n  margin: 22px 0 50px 0;\n  letter-spacing: 0.2px;\n  word-spacing: 1px;\n`;\n\nconst BuyBookBox = styled.a`\n  display: flex;\n  flex-direction: column;\n  text-decoration: none;\n`;\n\nconst ProductUrl = styled.h4`\n  color: #777;\n  text-decoration: none;\n  font: 700 0.8rem barlow;\n  margin: 0 0 20px 0;\n`;\n\nconst AmazonLogo = styled.img`\n  width: 80px;\n  position: absolute;\n  bottom: -10px;\n  left: -15px;\n`;\n\nexport default function IdPage() {\n  const [bookList, setBookList] = useState([]);\n\n  const loading = useSelector((state) => state.loading);\n\n  const params = useParams();\n\n  useEffect(() => {\n    fetchBookList();\n    // eslint-disable-next-line\n  }, [params]);\n\n  const fetchBookList = async () => {\n    const bookListUrl = \"https://api.nytimes.com/svc/books/v3/lists.json?list\";\n    const apiKey = \"FGuAAGxWuiRNhKjRZsrPKUUiSbtOJUG1\";\n\n    const response = await axios\n      .get(`${bookListUrl}=${params.idpage}&api-key=${apiKey}`)\n      .catch((err) => {\n        console.log(err);\n      });\n\n    setBookList(response.data.results);\n  };\n\n  console.log(bookList);\n\n  let listName = params.idpage.replaceAll(\"-\", \" \").split(\" \");\n\n  for (let i = 0; i < listName.length; i++) {\n    listName[i] =\n      \" \" + listName[i].charAt(0).toUpperCase() + listName[i].slice(1);\n  }\n\n  return (\n    <div style={{ width: \"100%\" }}>\n      <CardContainerHeader>\n        <ListName>\n          <span\n            style={{\n              font: \"400 1.6rem barlow\",\n              color: \"#03045e\",\n            }}\n          >\n            {bookList.length}{\" \"}\n          </span>\n          results for:\n          <span\n            style={{\n              font: \"400 1.6rem barlow\",\n              color: \"#03045e\",\n            }}\n          >\n            {listName}\n          </span>\n        </ListName>\n        <Sorting bookList={bookList} setBookList={setBookList} />\n      </CardContainerHeader>\n      {!loading ? (\n        <div>\n          <CardContainer>\n            {bookList.map((books, key) => {\n              return (\n                <Card key={key}>\n                  <Title>{books.book_details[0].title}</Title>\n                  <div\n                    style={{\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      justifyContent: \"space-between\",\n                    }}\n                  >\n                    <Author>\n                      <span style={{ color: \"#0008\", font: \"500 1rem sen\" }}>\n                        Author:{\" \"}\n                      </span>\n                      {books.book_details[0].author}\n                    </Author>\n                    <Rank>\n                      <span style={{ color: \"#0008\", font: \"500 .8rem sen\" }}>\n                        Rank:{\" \"}\n                      </span>\n                      {books.rank}\n                    </Rank>\n                  </div>\n                  <Publisher>\n                    <span style={{ color: \"#0008\", font: \"500 .8rem sen\" }}>\n                      Publisher:{\" \"}\n                    </span>\n                    {books.book_details[0].publisher}\n                  </Publisher>\n                  <Description>\n                    {books.book_details[0].description\n                      ? books.book_details[0].description\n                      : \"No description\"}\n                  </Description>\n                  <div\n                    style={{\n                      position: \"absolute\",\n                      bottom: \"5px\",\n                    }}\n                  >\n                    <BuyBookBox href={books.amazon_product_url} target=\"_blank\">\n                      <ProductUrl>Buy Book</ProductUrl>\n                      <AmazonLogo src={AmazonLogoImg}></AmazonLogo>\n                    </BuyBookBox>\n                  </div>\n                </Card>\n              );\n            })}\n          </CardContainer>\n        </div>\n      ) : (\n        <div className=\"loader\"></div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}