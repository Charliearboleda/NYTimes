{"ast":null,"code":"var _jsxFileName = \"/Users/charliearboleda/dev/NYTimesBestSeller/src/components/idpage.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport AmazonLogoImg from \"../images/amazon.png\";\nconst CardContainerHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 20px 20px 0 20px;\n  align-items: center;\n`;\nconst ListName = styled.h3`\n  font: 400 1.6rem barlow;\n`;\nconst SortingContainer = styled.div`\n  position: absolute;\n  background: #fff;\n  top: 36px;\n  left: 0;\n  z-index: 1;\n  width: 198px;\n  border: 1px solid transparent;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  transition: 0.3s;\n  max-height: 0;\n  overflow-y: hidden;\n`;\nconst SortingOpener = styled.button`\n  border: 2px solid #03045e33;\n  font: 500 1rem barlow;\n  padding: 5px 40px 8px 40px;\n  cursor: pointer;\n  background: #fff;\n  border-radius: 3px;\n  width: 100%;\n  transition: 0.2s;\n\n  &:hover {\n    background: #7161ef;\n    color: #fff;\n  }\n`;\nconst SortingDropdown = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\nconst SortingButton = styled.button`\n  margin: 5px 0;\n  padding: 5px 10px;\n  font: 500 1rem barlow;\n  cursor: pointer;\n  letter-spacing: 1px;\n  border: none;\n  transition: 0.2s;\n  background: none;\n  text-align: start;\n  /* border-radius: 3px; */\n  /* border-bottom: 1px solid #0003; */\n\n  &:hover {\n    background: #7161ef;\n    color: #fff;\n    /* border-radius: 3px; */\n  }\n`;\nconst CardContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0;\n  justify-content: center;\n`;\nconst Card = styled.div`\n  margin: 20px;\n  padding: 10px;\n  border: 2px solid #03045e33;\n  width: 20vw;\n  flex: 1;\n  flex-basis: 20%;\n  border-radius: 8px;\n  position: relative;\n  box-shadow: 4px 4px #03045e33;\n`;\nconst Title = styled.h3`\n  font: 500 1.1rem sen;\n  margin: 10px 0 15px 0;\n  border-bottom: 1px solid #0003;\n  padding-bottom: 10px;\n  color: #22007c;\n`;\nconst Author = styled.h5`\n  font: 400 1rem barlow;\n  margin: 20px 0 0 0;\n`;\nconst Publisher = styled.h3`\n  font: 400 0.8rem barlow;\n  margin: 8px 0 0 0;\n  border-bottom: 1px solid #0003;\n  padding-bottom: 25px;\n`;\nconst Description = styled.p`\n  font: 400 0.9rem barlow;\n  margin: 22px 0 50px 0;\n  letter-spacing: 0.2px;\n  word-spacing: 1px;\n`;\nconst BuyBookBox = styled.a`\n  display: flex;\n  flex-direction: column;\n  text-decoration: none;\n`;\nconst ProductUrl = styled.h4`\n  color: #777;\n  text-decoration: none;\n  font: 700 0.8rem barlow;\n  margin: 0 0 20px 0;\n`;\nconst AmazonLogo = styled.img`\n  width: 80px;\n  position: absolute;\n  bottom: -10px;\n  left: -15px;\n`;\nexport default function IdPage() {\n  const [bookList, setBookList] = useState([]);\n  const loading = useSelector(state => state.loading);\n  const params = useParams();\n  useEffect(() => {\n    fetchBookList(); // eslint-disable-next-line\n  }, [params]);\n\n  const fetchBookList = async () => {\n    const bookListUrl = \"https://api.nytimes.com/svc/books/v3/lists.json?list\";\n    const apiKey = \"FGuAAGxWuiRNhKjRZsrPKUUiSbtOJUG1\";\n    const response = await axios.get(`${bookListUrl}=${params.idpage}&api-key=${apiKey}`).catch(err => {\n      console.log(err);\n    });\n    setBookList(response.data.results);\n  };\n\n  const sortBooks = type => {\n    let sortButton = document.getElementById(\"sort-button\");\n    const sorted = [...bookList].sort((a, b) => a.book_details[0][type] > b.book_details[0][type] ? 1 : b.book_details[0][type] > a.book_details[0][type] || b[type] > a[type] ? -1 : 0);\n    setBookList(sorted);\n    let firstCapitalType = type.charAt(0).toUpperCase() + type.slice(1);\n    sortButton.innerHTML = type === \"rank\" ? \"Sort\" : \"By \" + firstCapitalType;\n  };\n\n  const openSorting = () => {\n    let sortingContainer = document.getElementById(\"sorting-container\");\n    sortingContainer.classList.add(\"sorting-opened\");\n  };\n\n  const closeSorting = () => {\n    let sortingContainer = document.getElementById(\"sorting-container\");\n    sortingContainer.classList.remove(\"sorting-opened\");\n  };\n\n  let listName = params.idpage.replaceAll(\"-\", \" \").split(\" \");\n\n  for (let i = 0; i < listName.length; i++) {\n    listName[i] = \" \" + listName[i].charAt(0).toUpperCase() + listName[i].slice(1);\n  }\n\n  console.log(params.idpage.replaceAll(\"-\", \" \").split(\" \"));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 5\n    }\n  }, !loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardContainerHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ListName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      font: \"400 1.4rem barlow\",\n      color: \"#0009\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 15\n    }\n  }, \"Results for:\"), \" \", listName), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }, \"Filter\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      // display: \"flex\",\n      // flexDirection: \"column\",\n      position: \"relative\",\n      width: \"200px\"\n    },\n    onMouseEnter: openSorting,\n    onMouseLeave: closeSorting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SortingOpener, {\n    id: \"sort-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 15\n    }\n  }, \"Sort\"), /*#__PURE__*/React.createElement(SortingContainer, {\n    id: \"sorting-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(SortingDropdown, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(SortingButton, {\n    value: \"rank\",\n    onClick: e => sortBooks(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 19\n    }\n  }, \"Default\"), /*#__PURE__*/React.createElement(SortingButton, {\n    value: \"title\",\n    onClick: e => sortBooks(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 19\n    }\n  }, \"By Title\"), /*#__PURE__*/React.createElement(SortingButton, {\n    value: \"author\",\n    onClick: e => sortBooks(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 19\n    }\n  }, \"By Author\"), /*#__PURE__*/React.createElement(SortingButton, {\n    value: \"publisher\",\n    onClick: e => sortBooks(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 19\n    }\n  }, \"By Publisher\"))))), /*#__PURE__*/React.createElement(CardContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 11\n    }\n  }, bookList.map((books, key) => {\n    return /*#__PURE__*/React.createElement(Card, {\n      key: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 19\n      }\n    }, books.book_details[0].title), /*#__PURE__*/React.createElement(Author, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"#0008\",\n        font: \"500 1rem sen\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 21\n      }\n    }, \"Author:\", \" \"), books.book_details[0].author), /*#__PURE__*/React.createElement(Publisher, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"#0008\",\n        font: \"500 .8rem sen\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }\n    }, \"Publisher:\", \" \"), books.book_details[0].publisher), /*#__PURE__*/React.createElement(Description, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 19\n      }\n    }, books.book_details[0].description ? books.book_details[0].description : \"No description\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: \"absolute\",\n        bottom: \"5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(BuyBookBox, {\n      href: books.amazon_product_url,\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(ProductUrl, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 23\n      }\n    }, \"Buy Book\"), /*#__PURE__*/React.createElement(AmazonLogo, {\n      src: AmazonLogoImg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 23\n      }\n    }))));\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 11\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/charliearboleda/dev/NYTimesBestSeller/src/components/idpage.js"],"names":["React","useEffect","useState","useParams","useSelector","axios","styled","AmazonLogoImg","CardContainerHeader","div","ListName","h3","SortingContainer","SortingOpener","button","SortingDropdown","SortingButton","CardContainer","Card","Title","Author","h5","Publisher","Description","p","BuyBookBox","a","ProductUrl","h4","AmazonLogo","img","IdPage","bookList","setBookList","loading","state","params","fetchBookList","bookListUrl","apiKey","response","get","idpage","catch","err","console","log","data","results","sortBooks","type","sortButton","document","getElementById","sorted","sort","b","book_details","firstCapitalType","charAt","toUpperCase","slice","innerHTML","openSorting","sortingContainer","classList","add","closeSorting","remove","listName","replaceAll","split","i","length","font","color","position","width","e","target","value","map","books","key","title","author","publisher","description","bottom","amazon_product_url"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { useSelector } from \"react-redux\";\n\nimport axios from \"axios\";\n\nimport styled from \"styled-components\";\n\nimport AmazonLogoImg from \"../images/amazon.png\";\n\nconst CardContainerHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 20px 20px 0 20px;\n  align-items: center;\n`;\n\nconst ListName = styled.h3`\n  font: 400 1.6rem barlow;\n`;\n\nconst SortingContainer = styled.div`\n  position: absolute;\n  background: #fff;\n  top: 36px;\n  left: 0;\n  z-index: 1;\n  width: 198px;\n  border: 1px solid transparent;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  transition: 0.3s;\n  max-height: 0;\n  overflow-y: hidden;\n`;\n\nconst SortingOpener = styled.button`\n  border: 2px solid #03045e33;\n  font: 500 1rem barlow;\n  padding: 5px 40px 8px 40px;\n  cursor: pointer;\n  background: #fff;\n  border-radius: 3px;\n  width: 100%;\n  transition: 0.2s;\n\n  &:hover {\n    background: #7161ef;\n    color: #fff;\n  }\n`;\n\nconst SortingDropdown = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst SortingButton = styled.button`\n  margin: 5px 0;\n  padding: 5px 10px;\n  font: 500 1rem barlow;\n  cursor: pointer;\n  letter-spacing: 1px;\n  border: none;\n  transition: 0.2s;\n  background: none;\n  text-align: start;\n  /* border-radius: 3px; */\n  /* border-bottom: 1px solid #0003; */\n\n  &:hover {\n    background: #7161ef;\n    color: #fff;\n    /* border-radius: 3px; */\n  }\n`;\n\nconst CardContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0;\n  justify-content: center;\n`;\n\nconst Card = styled.div`\n  margin: 20px;\n  padding: 10px;\n  border: 2px solid #03045e33;\n  width: 20vw;\n  flex: 1;\n  flex-basis: 20%;\n  border-radius: 8px;\n  position: relative;\n  box-shadow: 4px 4px #03045e33;\n`;\n\nconst Title = styled.h3`\n  font: 500 1.1rem sen;\n  margin: 10px 0 15px 0;\n  border-bottom: 1px solid #0003;\n  padding-bottom: 10px;\n  color: #22007c;\n`;\n\nconst Author = styled.h5`\n  font: 400 1rem barlow;\n  margin: 20px 0 0 0;\n`;\n\nconst Publisher = styled.h3`\n  font: 400 0.8rem barlow;\n  margin: 8px 0 0 0;\n  border-bottom: 1px solid #0003;\n  padding-bottom: 25px;\n`;\n\nconst Description = styled.p`\n  font: 400 0.9rem barlow;\n  margin: 22px 0 50px 0;\n  letter-spacing: 0.2px;\n  word-spacing: 1px;\n`;\n\nconst BuyBookBox = styled.a`\n  display: flex;\n  flex-direction: column;\n  text-decoration: none;\n`;\n\nconst ProductUrl = styled.h4`\n  color: #777;\n  text-decoration: none;\n  font: 700 0.8rem barlow;\n  margin: 0 0 20px 0;\n`;\n\nconst AmazonLogo = styled.img`\n  width: 80px;\n  position: absolute;\n  bottom: -10px;\n  left: -15px;\n`;\n\nexport default function IdPage() {\n  const [bookList, setBookList] = useState([]);\n\n  const loading = useSelector((state) => state.loading);\n\n  const params = useParams();\n\n  useEffect(() => {\n    fetchBookList();\n    // eslint-disable-next-line\n  }, [params]);\n\n  const fetchBookList = async () => {\n    const bookListUrl = \"https://api.nytimes.com/svc/books/v3/lists.json?list\";\n    const apiKey = \"FGuAAGxWuiRNhKjRZsrPKUUiSbtOJUG1\";\n\n    const response = await axios\n      .get(`${bookListUrl}=${params.idpage}&api-key=${apiKey}`)\n      .catch((err) => {\n        console.log(err);\n      });\n\n    setBookList(response.data.results);\n  };\n\n  const sortBooks = (type) => {\n    let sortButton = document.getElementById(\"sort-button\");\n\n    const sorted = [...bookList].sort((a, b) =>\n      a.book_details[0][type] > b.book_details[0][type]\n        ? 1\n        : b.book_details[0][type] > a.book_details[0][type] || b[type] > a[type]\n        ? -1\n        : 0\n    );\n    setBookList(sorted);\n    let firstCapitalType = type.charAt(0).toUpperCase() + type.slice(1);\n    sortButton.innerHTML = type === \"rank\" ? \"Sort\" : \"By \" + firstCapitalType;\n  };\n\n  const openSorting = () => {\n    let sortingContainer = document.getElementById(\"sorting-container\");\n    sortingContainer.classList.add(\"sorting-opened\");\n  };\n\n  const closeSorting = () => {\n    let sortingContainer = document.getElementById(\"sorting-container\");\n    sortingContainer.classList.remove(\"sorting-opened\");\n  };\n\n  let listName = params.idpage.replaceAll(\"-\", \" \").split(\" \");\n\n  for (let i = 0; i < listName.length; i++) {\n    listName[i] =\n      \" \" + listName[i].charAt(0).toUpperCase() + listName[i].slice(1);\n  }\n\n  console.log(params.idpage.replaceAll(\"-\", \" \").split(\" \"));\n\n  return (\n    <div>\n      {!loading ? (\n        <div>\n          <CardContainerHeader>\n            <ListName>\n              <span\n                style={{\n                  font: \"400 1.4rem barlow\",\n                  color: \"#0009\",\n                }}\n              >\n                Results for:\n              </span>{\" \"}\n              {listName}\n            </ListName>\n            <button>Filter</button>\n            <div\n              style={{\n                // display: \"flex\",\n                // flexDirection: \"column\",\n                position: \"relative\",\n                width: \"200px\",\n              }}\n              onMouseEnter={openSorting}\n              onMouseLeave={closeSorting}\n            >\n              <SortingOpener id=\"sort-button\">Sort</SortingOpener>\n              <SortingContainer id=\"sorting-container\">\n                <SortingDropdown>\n                  <SortingButton\n                    value=\"rank\"\n                    onClick={(e) => sortBooks(e.target.value)}\n                  >\n                    Default\n                  </SortingButton>\n                  <SortingButton\n                    value=\"title\"\n                    onClick={(e) => sortBooks(e.target.value)}\n                  >\n                    By Title\n                  </SortingButton>\n                  <SortingButton\n                    value=\"author\"\n                    onClick={(e) => sortBooks(e.target.value)}\n                  >\n                    By Author\n                  </SortingButton>\n                  <SortingButton\n                    value=\"publisher\"\n                    onClick={(e) => sortBooks(e.target.value)}\n                  >\n                    By Publisher\n                  </SortingButton>\n                </SortingDropdown>\n              </SortingContainer>\n            </div>\n          </CardContainerHeader>\n\n          <CardContainer>\n            {bookList.map((books, key) => {\n              return (\n                <Card key={key}>\n                  <Title>{books.book_details[0].title}</Title>\n                  <Author>\n                    <span style={{ color: \"#0008\", font: \"500 1rem sen\" }}>\n                      Author:{\" \"}\n                    </span>\n                    {books.book_details[0].author}\n                  </Author>\n                  <Publisher>\n                    <span style={{ color: \"#0008\", font: \"500 .8rem sen\" }}>\n                      Publisher:{\" \"}\n                    </span>\n                    {books.book_details[0].publisher}\n                  </Publisher>\n                  <Description>\n                    {books.book_details[0].description\n                      ? books.book_details[0].description\n                      : \"No description\"}\n                  </Description>\n                  <div\n                    style={{\n                      position: \"absolute\",\n                      bottom: \"5px\",\n                    }}\n                  >\n                    <BuyBookBox href={books.amazon_product_url} target=\"_blank\">\n                      <ProductUrl>Buy Book</ProductUrl>\n                      <AmazonLogo src={AmazonLogoImg}></AmazonLogo>\n                    </BuyBookBox>\n                  </div>\n                </Card>\n              );\n            })}\n          </CardContainer>\n        </div>\n      ) : (\n        <div className=\"loader-div\">\n          <div className=\"loader\"></div>\n        </div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}