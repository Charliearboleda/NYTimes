{"ast":null,"code":"import _regeneratorRuntime from\"/Users/charliearboleda/dev/NYTimesBestSeller/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/charliearboleda/dev/NYTimesBestSeller/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/charliearboleda/dev/NYTimesBestSeller/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/charliearboleda/dev/NYTimesBestSeller/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13;import styled from\"styled-components\";import React,{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import axios from\"axios\";import SortMovies from\"./features/SortMovies\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CardContainerHeader=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  margin: 30px 9vw 50px 9vw;\\n  align-items: center;\\n\"])));var MagnifyingGlass=styled.i(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 12px;\\n  left: 12px;\\n  font-size: 1.6rem;\\n  color: #0006;\\n  cursor: text;\\n\"])));var SearchInput=styled.input(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 130px;\\n  height: 35px;\\n  border-radius: 25px;\\n  border: 2px solid #0006;\\n  background: transparent;\\n  padding: 4px 4px 4px 45px;\\n  font: 500 1.1rem barlow;\\n  transition: 0.4s;\\n  position: absolute;\\n  z-index: 1;\\n\\n  &:focus {\\n    outline: none;\\n    width: 300px;\\n    border: 2px solid #4b4b4b;\\n  }\\n\\n  &:hover {\\n    border: 2px solid #4b4b4b;\\n  }\\n\"])));var MovieContainer=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 30px;\\n  margin: 20px 50px;\\n  justify-content: center;\\n\"])));var Card=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  width: 320px;\\n  padding: 20px;\\n  border: 2px solid #6e090b33;\\n  box-shadow: 4px 4px #6e090b33;\\n  position: relative;\\n\"])));var Title=styled.h1(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font: 500 1.3rem sen;\\n  margin: 0 0 15px 0;\\n  border-bottom: 1px solid #0003;\\n  padding-bottom: 10px;\\n  color: #6e090b;\\n\"])));var Rating=styled.h4(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  font: 500 1rem barlow;\\n  margin: 0;\\n  color: #0009;\\n\"])));var Date=styled.h5(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  font: 500 1rem barlow;\\n  color: #0009;\\n\"])));var Snapshot=styled.h4(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  font: 500 1rem barlow;\\n  margin: 0 0 8px 0;\\n  color: #0009;\\n\"])));var MovieSnapshot=styled.img(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  border-radius: 2px;\\n  margin-bottom: 40px;\\n  width: 100%;\\n\"])));var DescriptionButton=styled.h4(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  margin: 3px 0 0 0;\\n  cursor: pointer;\\n  background: #0001;\\n  text-align: center;\\n  border-radius: 3px;\\n  padding: 5px 8px 8px 8px;\\n  font: 500 1rem barlow;\\n  transition: 0.3s;\\n\\n  &:hover {\\n    background: #6e090b33;\\n  }\\n\"])));var Summary=styled.h5(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  font: 500 1.15rem barlow;\\n  letter-spacing: 0.4px;\\n  word-spacing: 2px;\\n\\n  &:hover {\\n    /* height: 91%;\\n    opacity: 1;\\n    visibility: visible; */\\n  }\\n\"])));var SummaryBox=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  margin: 0 auto;\\n  background: #fff;\\n  padding: 20px;\\n  position: absolute;\\n  top: 4px;\\n  left: 4px;\\n  height: 0%;\\n  opacity: 0;\\n  visibility: hidden;\\n  transition: opacity 0.2s, visibility 0.3s, height 0.4s;\\n  transition-timing-function: ease-in-out;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\"])));export default function Categories(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var loading=useSelector(function(state){return state.loading;});var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];useEffect(function(){fetchMovieCategories();// eslint-disable-next-line\n},[]);var fetchMovieCategories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.nytimes.com/svc/movies/v2/reviews/all.json?api-key=B96BsMyHZskb1xX0KJMMsfVweArZ2Q8f\").catch(function(err){console.log(err);});case 2:response=_context.sent;setMovies(response.data.results);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchMovieCategories(){return _ref.apply(this,arguments);};}();var highlightTitle=function highlightTitle(e){var textToSearch=e.target.value;textToSearch=textToSearch.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\");var pattern=new RegExp(\"\".concat(textToSearch),\"gi\");for(var i=0;i<movies.length;i++){var title=document.getElementById(movies[i].display_title);if(title!==null){title.innerHTML=title.textContent.replace(pattern,function(match){return\"<mark>\".concat(match,\"</mark>\");});}}};console.log(movies);return/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\"},children:[/*#__PURE__*/_jsxs(CardContainerHeader,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\",width:\"10px\",height:\"48px\"},children:[/*#__PURE__*/_jsx(MagnifyingGlass,{className:\"fas fa-search\"}),/*#__PURE__*/_jsx(SearchInput,{className:\"search\",type:\"text\",placeholder:\"Search Titles\",onChange:/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return setSearchTerm(e.target.value);case 2:highlightTitle(e);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}()})]}),/*#__PURE__*/_jsx(SortMovies,{setMovies:setMovies,movies:movies})]}),!loading?/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\"},children:/*#__PURE__*/_jsx(MovieContainer,{children:movies.filter(function(category){if(searchTerm===\"\"){return category;}else if(category.display_title.toLowerCase().includes(searchTerm.toLowerCase())){return category;}return null;}).map(function(category,key){var display_title=category.display_title,publication_date=category.publication_date,summary_short=category.summary_short,mpaa_rating=category.mpaa_rating,multimedia=category.multimedia;var rating=mpaa_rating.replace(\"-\",\"\");var abbMonths=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];var splitDate=publication_date.split(\"-\");var monthDate=splitDate[1];monthDate=abbMonths[monthDate-1];var rearrangedDate=monthDate+\" \"+splitDate.splice(2).join(\" \")+\", \"+splitDate[0];var ratedR=\"#a10000\";var ratedPG13=\"#023e8a\";var ratedPG=\"#023e8a\";return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Title,{id:display_title,children:display_title}),rating?/*#__PURE__*/_jsxs(Rating,{children:[\"Rated\",\" \",/*#__PURE__*/_jsx(\"span\",{style:rating===\"R\"?{color:ratedR,font:\" 600 1rem barlow\",marginLeft:\"5px\",borderRadius:\"4px\",background:\"#0001\",padding:\"5px 10px\"}:rating===\"PG\"?{color:ratedPG,font:\" 600 1rem barlow\",marginLeft:\"5px\",borderRadius:\"4px\",background:\"#0001\",padding:\"5px 6px\"}:rating===\"PG13\"?{color:ratedPG13,font:\" 600 1rem barlow\",marginLeft:\"5px\",borderRadius:\"4px\",background:\"#0001\",padding:\"5px 7px\"}:{color:\"#5a189a\",font:\" 600 1rem barlow\",marginLeft:\"5px\",borderRadius:\"4px\",background:\"#0001\",padding:\"4px\"},children:rating})]}):/*#__PURE__*/_jsx(Rating,{children:\"Not Yet Rated\"}),/*#__PURE__*/_jsxs(Date,{children:[\"Released on\",\" \",/*#__PURE__*/_jsx(\"span\",{style:{font:\"500 1rem barlow\",color:\"#000\"},children:rearrangedDate})]}),/*#__PURE__*/_jsx(Snapshot,{children:\"Snapshot:\"}),/*#__PURE__*/_jsx(MovieSnapshot,{src:multimedia.src,alt:display_title}),/*#__PURE__*/_jsx(DescriptionButton,{className:\"summary-button\",children:\"View Summary\"}),/*#__PURE__*/_jsx(SummaryBox,{className:\"summary\",children:/*#__PURE__*/_jsx(Summary,{children:summary_short})})]},key);})})}):/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})]});}","map":{"version":3,"sources":["/Users/charliearboleda/dev/NYTimesBestSeller/src/components/Movies.js"],"names":["styled","React","useEffect","useState","useSelector","axios","SortMovies","CardContainerHeader","div","MagnifyingGlass","i","SearchInput","input","MovieContainer","Card","Title","h1","Rating","h4","Date","h5","Snapshot","MovieSnapshot","img","DescriptionButton","Summary","SummaryBox","Categories","movies","setMovies","loading","state","searchTerm","setSearchTerm","fetchMovieCategories","get","catch","err","console","log","response","data","results","highlightTitle","e","textToSearch","target","value","replace","pattern","RegExp","length","title","document","getElementById","display_title","innerHTML","textContent","match","width","position","height","display","filter","category","toLowerCase","includes","map","key","publication_date","summary_short","mpaa_rating","multimedia","rating","abbMonths","splitDate","split","monthDate","rearrangedDate","splice","join","ratedR","ratedPG13","ratedPG","color","font","marginLeft","borderRadius","background","padding","src"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { useSelector } from \"react-redux\";\n\nimport axios from \"axios\";\n\nimport SortMovies from \"./features/SortMovies\";\n\nconst CardContainerHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 30px 9vw 50px 9vw;\n  align-items: center;\n`;\n\nconst MagnifyingGlass = styled.i`\n  position: absolute;\n  top: 12px;\n  left: 12px;\n  font-size: 1.6rem;\n  color: #0006;\n  cursor: text;\n`;\n\nconst SearchInput = styled.input`\n  width: 130px;\n  height: 35px;\n  border-radius: 25px;\n  border: 2px solid #0006;\n  background: transparent;\n  padding: 4px 4px 4px 45px;\n  font: 500 1.1rem barlow;\n  transition: 0.4s;\n  position: absolute;\n  z-index: 1;\n\n  &:focus {\n    outline: none;\n    width: 300px;\n    border: 2px solid #4b4b4b;\n  }\n\n  &:hover {\n    border: 2px solid #4b4b4b;\n  }\n`;\n\nconst MovieContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 30px;\n  margin: 20px 50px;\n  justify-content: center;\n`;\n\nconst Card = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  padding: 20px;\n  border: 2px solid #6e090b33;\n  box-shadow: 4px 4px #6e090b33;\n  position: relative;\n`;\n\nconst Title = styled.h1`\n  font: 500 1.3rem sen;\n  margin: 0 0 15px 0;\n  border-bottom: 1px solid #0003;\n  padding-bottom: 10px;\n  color: #6e090b;\n`;\n\nconst Rating = styled.h4`\n  font: 500 1rem barlow;\n  margin: 0;\n  color: #0009;\n`;\n\nconst Date = styled.h5`\n  font: 500 1rem barlow;\n  color: #0009;\n`;\n\nconst Snapshot = styled.h4`\n  font: 500 1rem barlow;\n  margin: 0 0 8px 0;\n  color: #0009;\n`;\n\nconst MovieSnapshot = styled.img`\n  border-radius: 2px;\n  margin-bottom: 40px;\n  width: 100%;\n`;\n\nconst DescriptionButton = styled.h4`\n  margin: 3px 0 0 0;\n  cursor: pointer;\n  background: #0001;\n  text-align: center;\n  border-radius: 3px;\n  padding: 5px 8px 8px 8px;\n  font: 500 1rem barlow;\n  transition: 0.3s;\n\n  &:hover {\n    background: #6e090b33;\n  }\n`;\n\nconst Summary = styled.h5`\n  font: 500 1.15rem barlow;\n  letter-spacing: 0.4px;\n  word-spacing: 2px;\n\n  &:hover {\n    /* height: 91%;\n    opacity: 1;\n    visibility: visible; */\n  }\n`;\n\nconst SummaryBox = styled.div`\n  margin: 0 auto;\n  background: #fff;\n  padding: 20px;\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  height: 0%;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 0.2s, visibility 0.3s, height 0.4s;\n  transition-timing-function: ease-in-out;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nexport default function Categories() {\n  const [movies, setMovies] = useState([]);\n  const loading = useSelector((state) => state.loading);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  useEffect(() => {\n    fetchMovieCategories();\n    // eslint-disable-next-line\n  }, []);\n\n  const fetchMovieCategories = async () => {\n    const response = await axios\n      .get(\n        `https://api.nytimes.com/svc/movies/v2/reviews/all.json?api-key=B96BsMyHZskb1xX0KJMMsfVweArZ2Q8f`\n      )\n      .catch((err) => {\n        console.log(err);\n      });\n    setMovies(response.data.results);\n  };\n\n  const highlightTitle = (e) => {\n    let textToSearch = e.target.value;\n    textToSearch = textToSearch.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n    let pattern = new RegExp(`${textToSearch}`, \"gi\");\n\n    for (let i = 0; i < movies.length; i++) {\n      let title = document.getElementById(movies[i].display_title);\n      if (title !== null) {\n        title.innerHTML = title.textContent.replace(\n          pattern,\n          (match) => `<mark>${match}</mark>`\n        );\n      }\n    }\n  };\n  console.log(movies);\n\n  return (\n    <div style={{ width: \"100%\" }}>\n      <CardContainerHeader>\n        <div\n          style={{\n            position: \"relative\",\n            width: \"10px\",\n            height: \"48px\",\n          }}\n        >\n          <MagnifyingGlass className=\"fas fa-search\" />\n          <SearchInput\n            className=\"search\"\n            type=\"text\"\n            placeholder=\"Search Titles\"\n            onChange={async (e) => {\n              await setSearchTerm(e.target.value);\n              highlightTitle(e);\n            }}\n          />\n        </div>\n        <SortMovies setMovies={setMovies} movies={movies} />\n      </CardContainerHeader>\n      {!loading ? (\n        <div style={{ display: \"flex\" }}>\n          <MovieContainer>\n            {movies\n              .filter((category) => {\n                if (searchTerm === \"\") {\n                  return category;\n                } else if (\n                  category.display_title\n                    .toLowerCase()\n                    .includes(searchTerm.toLowerCase())\n                ) {\n                  return category;\n                }\n                return null;\n              })\n              .map((category, key) => {\n                const {\n                  display_title,\n                  publication_date,\n                  summary_short,\n                  mpaa_rating,\n                  multimedia,\n                  // link,\n                } = category;\n                let rating = mpaa_rating.replace(\"-\", \"\");\n\n                let abbMonths = [\n                  \"Jan\",\n                  \"Feb\",\n                  \"Mar\",\n                  \"Apr\",\n                  \"May\",\n                  \"Jun\",\n                  \"Jul\",\n                  \"Aug\",\n                  \"Sep\",\n                  \"Oct\",\n                  \"Nov\",\n                  \"Dec\",\n                ];\n                let splitDate = publication_date.split(\"-\");\n                let monthDate = splitDate[1];\n                monthDate = abbMonths[monthDate - 1];\n\n                let rearrangedDate =\n                  monthDate +\n                  \" \" +\n                  splitDate.splice(2).join(\" \") +\n                  \", \" +\n                  splitDate[0];\n\n                let ratedR = \"#a10000\";\n                let ratedPG13 = \"#023e8a\";\n                let ratedPG = \"#023e8a\";\n\n                return (\n                  <Card key={key}>\n                    <Title id={display_title}>{display_title}</Title>\n                    {rating ? (\n                      <Rating>\n                        Rated{\" \"}\n                        <span\n                          style={\n                            rating === \"R\"\n                              ? {\n                                  color: ratedR,\n                                  font: \" 600 1rem barlow\",\n                                  marginLeft: \"5px\",\n                                  borderRadius: \"4px\",\n                                  background: \"#0001\",\n                                  padding: \"5px 10px\",\n                                }\n                              : rating === \"PG\"\n                              ? {\n                                  color: ratedPG,\n                                  font: \" 600 1rem barlow\",\n                                  marginLeft: \"5px\",\n                                  borderRadius: \"4px\",\n                                  background: \"#0001\",\n                                  padding: \"5px 6px\",\n                                }\n                              : rating === \"PG13\"\n                              ? {\n                                  color: ratedPG13,\n                                  font: \" 600 1rem barlow\",\n                                  marginLeft: \"5px\",\n                                  borderRadius: \"4px\",\n                                  background: \"#0001\",\n                                  padding: \"5px 7px\",\n                                }\n                              : {\n                                  color: \"#5a189a\",\n                                  font: \" 600 1rem barlow\",\n                                  marginLeft: \"5px\",\n                                  borderRadius: \"4px\",\n                                  background: \"#0001\",\n                                  padding: \"4px\",\n                                }\n                          }\n                        >\n                          {rating}\n                        </span>\n                      </Rating>\n                    ) : (\n                      <Rating>Not Yet Rated</Rating>\n                    )}\n                    <Date>\n                      Released on{\" \"}\n                      <span style={{ font: \"500 1rem barlow\", color: \"#000\" }}>\n                        {rearrangedDate}\n                      </span>\n                    </Date>\n\n                    <Snapshot>Snapshot:</Snapshot>\n                    <MovieSnapshot src={multimedia.src} alt={display_title} />\n\n                    <DescriptionButton className=\"summary-button\">\n                      View Summary\n                    </DescriptionButton>\n                    <SummaryBox className=\"summary\">\n                      <Summary>{summary_short}</Summary>\n                    </SummaryBox>\n                  </Card>\n                );\n              })}\n          </MovieContainer>\n        </div>\n      ) : (\n        <div className=\"loader\"></div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}