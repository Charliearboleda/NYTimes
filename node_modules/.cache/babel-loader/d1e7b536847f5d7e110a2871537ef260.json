{"ast":null,"code":"var _jsxFileName = \"/Users/charliearboleda/dev/NYTimesBestSeller/src/components/Movies.js\",\n    _s = $RefreshSig$();\n\nimport styled from \"styled-components\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport SortMovies from \"./features/SortMovies\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CardContainerHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 30px 9vw 50px 9vw;\n  align-items: center;\n`;\n_c = CardContainerHeader;\nconst MagnifyingGlass = styled.i`\n  position: absolute;\n  top: 12px;\n  left: 12px;\n  font-size: 1.6rem;\n  color: #0006;\n  cursor: text;\n`;\n_c2 = MagnifyingGlass;\nconst SearchInput = styled.input`\n  width: 130px;\n  height: 35px;\n  border-radius: 25px;\n  border: 2px solid #0006;\n  background: transparent;\n  padding: 4px 4px 4px 45px;\n  font: 500 1.1rem barlow;\n  transition: 0.4s;\n  position: absolute;\n  z-index: 1;\n\n  &:focus {\n    outline: none;\n    width: 300px;\n    border: 2px solid #4b4b4b;\n  }\n\n  &:hover {\n    border: 2px solid #4b4b4b;\n  }\n`;\n_c3 = SearchInput;\nconst MovieContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 30px;\n  margin: 20px 50px;\n  justify-content: center;\n`;\n_c4 = MovieContainer;\nconst Card = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  padding: 20px;\n  border: 2px solid #6e090b33;\n  box-shadow: 4px 4px #6e090b33;\n  position: relative;\n`;\n_c5 = Card;\nconst Title = styled.h1`\n  font: 500 1.3rem sen;\n  margin: 0 0 15px 0;\n  border-bottom: 1px solid #0003;\n  padding-bottom: 10px;\n  color: #6e090b;\n`;\n_c6 = Title;\nconst Rating = styled.h4`\n  font: 500 1rem barlow;\n  margin: 0;\n  color: #0009;\n`;\n_c7 = Rating;\nconst Date = styled.h5`\n  font: 500 1rem barlow;\n  color: #0009;\n`;\n_c8 = Date;\nconst Snapshot = styled.h4`\n  font: 500 1rem barlow;\n  margin: 0 0 8px 0;\n  color: #0009;\n`;\n_c9 = Snapshot;\nconst MovieSnapshot = styled.img`\n  border-radius: 2px;\n  margin-bottom: 40px;\n  width: 100%;\n`;\n_c10 = MovieSnapshot;\nconst DescriptionButton = styled.h4`\n  margin: 3px 0 0 0;\n  cursor: pointer;\n  background: #0001;\n  text-align: center;\n  border-radius: 3px;\n  padding: 5px 8px 8px 8px;\n  font: 500 1rem barlow;\n  transition: 0.3s;\n\n  &:hover {\n    background: #6e090b33;\n  }\n`;\n_c11 = DescriptionButton;\nconst Summary = styled.h5`\n  font: 500 1.15rem barlow;\n  letter-spacing: 0.4px;\n  word-spacing: 2px;\n\n  &:hover {\n    /* height: 91%;\n    opacity: 1;\n    visibility: visible; */\n  }\n`;\n_c12 = Summary;\nconst SummaryBox = styled.div`\n  margin: 0 auto;\n  background: #fff;\n  padding: 20px;\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  height: 0%;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 0.2s, visibility 0.3s, height 0.4s;\n  transition-timing-function: ease-in-out;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n_c13 = SummaryBox;\nexport default function Categories() {\n  _s();\n\n  const [movies, setMovies] = useState([]);\n  const loading = useSelector(state => state.loading);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  useEffect(() => {\n    fetchMovieCategories(); // eslint-disable-next-line\n  }, []);\n\n  const fetchMovieCategories = async () => {\n    const response = await axios.get(`https://api.nytimes.com/svc/movies/v2/reviews/all.json?api-key=B96BsMyHZskb1xX0KJMMsfVweArZ2Q8f`).catch(err => {\n      console.log(err);\n    });\n    setMovies(response.data.results);\n  };\n\n  const highlightTitle = e => {\n    let textToSearch = e.target.value;\n    textToSearch = textToSearch.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n    let pattern = new RegExp(`${textToSearch}`, \"gi\");\n\n    for (let i = 0; i < movies.length; i++) {\n      let title = document.getElementById(movies[i].display_title);\n\n      if (title !== null) {\n        title.innerHTML = title.textContent.replace(pattern, match => `<mark>${match}</mark>`);\n      }\n    }\n  };\n\n  console.log(movies);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(CardContainerHeader, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"relative\",\n          width: \"10px\",\n          height: \"48px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(MagnifyingGlass, {\n          className: \"fas fa-search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchInput, {\n          className: \"search\",\n          type: \"text\",\n          placeholder: \"Search Titles\",\n          onChange: async e => {\n            await setSearchTerm(e.target.value);\n            highlightTitle(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SortMovies, {\n        setMovies: setMovies,\n        movies: movies\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), !loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      children: /*#__PURE__*/_jsxDEV(MovieContainer, {\n        children: movies.filter(category => {\n          if (searchTerm === \"\") {\n            return category;\n          } else if (category.display_title.toLowerCase().includes(searchTerm.toLowerCase())) {\n            return category;\n          }\n\n          return null;\n        }).map((category, key) => {\n          const {\n            display_title,\n            publication_date,\n            summary_short,\n            mpaa_rating,\n            multimedia // link,\n\n          } = category;\n          let rating = mpaa_rating.replace(\"-\", \"\");\n          let abbMonths = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n          let splitDate = publication_date.split(\"-\");\n          let monthDate = splitDate[1];\n          monthDate = abbMonths[monthDate - 1];\n          let rearrangedDate = monthDate + \" \" + splitDate.splice(2).join(\" \") + \", \" + splitDate[0];\n          let ratedR = \"#a10000\";\n          let ratedPG13 = \"#023e8a\";\n          let ratedPG = \"#023e8a\";\n          return /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              id: display_title,\n              children: display_title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 21\n            }, this), rating ? /*#__PURE__*/_jsxDEV(Rating, {\n              children: [\"Rated\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: rating === \"R\" ? {\n                  color: ratedR,\n                  font: \" 600 1rem barlow\",\n                  marginLeft: \"5px\",\n                  borderRadius: \"4px\",\n                  background: \"#0001\",\n                  padding: \"5px 10px\"\n                } : rating === \"PG\" ? {\n                  color: ratedPG,\n                  font: \" 600 1rem barlow\",\n                  marginLeft: \"5px\",\n                  borderRadius: \"4px\",\n                  background: \"#0001\",\n                  padding: \"5px 6px\"\n                } : rating === \"PG13\" ? {\n                  color: ratedPG13,\n                  font: \" 600 1rem barlow\",\n                  marginLeft: \"5px\",\n                  borderRadius: \"4px\",\n                  background: \"#0001\",\n                  padding: \"5px 7px\"\n                } : {\n                  color: \"#5a189a\",\n                  font: \" 600 1rem barlow\",\n                  marginLeft: \"5px\",\n                  borderRadius: \"4px\",\n                  background: \"#0001\",\n                  padding: \"4px\"\n                },\n                children: rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(Rating, {\n              children: \"Not Yet Rated\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Date, {\n              children: [\"Released on\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  font: \"500 1rem barlow\",\n                  color: \"#000\"\n                },\n                children: rearrangedDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Snapshot, {\n              children: \"Snapshot:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(MovieSnapshot, {\n              src: multimedia.src,\n              alt: display_title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(DescriptionButton, {\n              className: \"summary-button\",\n              children: \"View Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(SummaryBox, {\n              className: \"summary\",\n              children: /*#__PURE__*/_jsxDEV(Summary, {\n                children: summary_short\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 21\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 19\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Categories, \"g5Xo9/5R1fQERCXgDClYnS9gmG0=\", false, function () {\n  return [useSelector];\n});\n\n_c14 = Categories;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14;\n\n$RefreshReg$(_c, \"CardContainerHeader\");\n$RefreshReg$(_c2, \"MagnifyingGlass\");\n$RefreshReg$(_c3, \"SearchInput\");\n$RefreshReg$(_c4, \"MovieContainer\");\n$RefreshReg$(_c5, \"Card\");\n$RefreshReg$(_c6, \"Title\");\n$RefreshReg$(_c7, \"Rating\");\n$RefreshReg$(_c8, \"Date\");\n$RefreshReg$(_c9, \"Snapshot\");\n$RefreshReg$(_c10, \"MovieSnapshot\");\n$RefreshReg$(_c11, \"DescriptionButton\");\n$RefreshReg$(_c12, \"Summary\");\n$RefreshReg$(_c13, \"SummaryBox\");\n$RefreshReg$(_c14, \"Categories\");","map":{"version":3,"sources":["/Users/charliearboleda/dev/NYTimesBestSeller/src/components/Movies.js"],"names":["styled","React","useEffect","useState","useSelector","axios","SortMovies","CardContainerHeader","div","MagnifyingGlass","i","SearchInput","input","MovieContainer","Card","Title","h1","Rating","h4","Date","h5","Snapshot","MovieSnapshot","img","DescriptionButton","Summary","SummaryBox","Categories","movies","setMovies","loading","state","searchTerm","setSearchTerm","fetchMovieCategories","response","get","catch","err","console","log","data","results","highlightTitle","e","textToSearch","target","value","replace","pattern","RegExp","length","title","document","getElementById","display_title","innerHTML","textContent","match","width","position","height","display","filter","category","toLowerCase","includes","map","key","publication_date","summary_short","mpaa_rating","multimedia","rating","abbMonths","splitDate","split","monthDate","rearrangedDate","splice","join","ratedR","ratedPG13","ratedPG","color","font","marginLeft","borderRadius","background","padding","src"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { useSelector } from \"react-redux\";\n\nimport axios from \"axios\";\n\nimport SortMovies from \"./features/SortMovies\";\n\nconst CardContainerHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 30px 9vw 50px 9vw;\n  align-items: center;\n`;\n\nconst MagnifyingGlass = styled.i`\n  position: absolute;\n  top: 12px;\n  left: 12px;\n  font-size: 1.6rem;\n  color: #0006;\n  cursor: text;\n`;\n\nconst SearchInput = styled.input`\n  width: 130px;\n  height: 35px;\n  border-radius: 25px;\n  border: 2px solid #0006;\n  background: transparent;\n  padding: 4px 4px 4px 45px;\n  font: 500 1.1rem barlow;\n  transition: 0.4s;\n  position: absolute;\n  z-index: 1;\n\n  &:focus {\n    outline: none;\n    width: 300px;\n    border: 2px solid #4b4b4b;\n  }\n\n  &:hover {\n    border: 2px solid #4b4b4b;\n  }\n`;\n\nconst MovieContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 30px;\n  margin: 20px 50px;\n  justify-content: center;\n`;\n\nconst Card = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  padding: 20px;\n  border: 2px solid #6e090b33;\n  box-shadow: 4px 4px #6e090b33;\n  position: relative;\n`;\n\nconst Title = styled.h1`\n  font: 500 1.3rem sen;\n  margin: 0 0 15px 0;\n  border-bottom: 1px solid #0003;\n  padding-bottom: 10px;\n  color: #6e090b;\n`;\n\nconst Rating = styled.h4`\n  font: 500 1rem barlow;\n  margin: 0;\n  color: #0009;\n`;\n\nconst Date = styled.h5`\n  font: 500 1rem barlow;\n  color: #0009;\n`;\n\nconst Snapshot = styled.h4`\n  font: 500 1rem barlow;\n  margin: 0 0 8px 0;\n  color: #0009;\n`;\n\nconst MovieSnapshot = styled.img`\n  border-radius: 2px;\n  margin-bottom: 40px;\n  width: 100%;\n`;\n\nconst DescriptionButton = styled.h4`\n  margin: 3px 0 0 0;\n  cursor: pointer;\n  background: #0001;\n  text-align: center;\n  border-radius: 3px;\n  padding: 5px 8px 8px 8px;\n  font: 500 1rem barlow;\n  transition: 0.3s;\n\n  &:hover {\n    background: #6e090b33;\n  }\n`;\n\nconst Summary = styled.h5`\n  font: 500 1.15rem barlow;\n  letter-spacing: 0.4px;\n  word-spacing: 2px;\n\n  &:hover {\n    /* height: 91%;\n    opacity: 1;\n    visibility: visible; */\n  }\n`;\n\nconst SummaryBox = styled.div`\n  margin: 0 auto;\n  background: #fff;\n  padding: 20px;\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  height: 0%;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 0.2s, visibility 0.3s, height 0.4s;\n  transition-timing-function: ease-in-out;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nexport default function Categories() {\n  const [movies, setMovies] = useState([]);\n  const loading = useSelector((state) => state.loading);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  useEffect(() => {\n    fetchMovieCategories();\n    // eslint-disable-next-line\n  }, []);\n\n  const fetchMovieCategories = async () => {\n    const response = await axios\n      .get(\n        `https://api.nytimes.com/svc/movies/v2/reviews/all.json?api-key=B96BsMyHZskb1xX0KJMMsfVweArZ2Q8f`\n      )\n      .catch((err) => {\n        console.log(err);\n      });\n    setMovies(response.data.results);\n  };\n\n  const highlightTitle = (e) => {\n    let textToSearch = e.target.value;\n    textToSearch = textToSearch.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n    let pattern = new RegExp(`${textToSearch}`, \"gi\");\n\n    for (let i = 0; i < movies.length; i++) {\n      let title = document.getElementById(movies[i].display_title);\n      if (title !== null) {\n        title.innerHTML = title.textContent.replace(\n          pattern,\n          (match) => `<mark>${match}</mark>`\n        );\n      }\n    }\n  };\n  console.log(movies);\n\n  return (\n    <div style={{ width: \"100%\" }}>\n      <CardContainerHeader>\n        <div\n          style={{\n            position: \"relative\",\n            width: \"10px\",\n            height: \"48px\",\n          }}\n        >\n          <MagnifyingGlass className=\"fas fa-search\" />\n          <SearchInput\n            className=\"search\"\n            type=\"text\"\n            placeholder=\"Search Titles\"\n            onChange={async (e) => {\n              await setSearchTerm(e.target.value);\n              highlightTitle(e);\n            }}\n          />\n        </div>\n        <SortMovies setMovies={setMovies} movies={movies} />\n      </CardContainerHeader>\n      {!loading ? (\n        <div style={{ display: \"flex\" }}>\n          <MovieContainer>\n            {movies\n              .filter((category) => {\n                if (searchTerm === \"\") {\n                  return category;\n                } else if (\n                  category.display_title\n                    .toLowerCase()\n                    .includes(searchTerm.toLowerCase())\n                ) {\n                  return category;\n                }\n                return null;\n              })\n              .map((category, key) => {\n                const {\n                  display_title,\n                  publication_date,\n                  summary_short,\n                  mpaa_rating,\n                  multimedia,\n                  // link,\n                } = category;\n                let rating = mpaa_rating.replace(\"-\", \"\");\n\n                let abbMonths = [\n                  \"Jan\",\n                  \"Feb\",\n                  \"Mar\",\n                  \"Apr\",\n                  \"May\",\n                  \"Jun\",\n                  \"Jul\",\n                  \"Aug\",\n                  \"Sep\",\n                  \"Oct\",\n                  \"Nov\",\n                  \"Dec\",\n                ];\n                let splitDate = publication_date.split(\"-\");\n                let monthDate = splitDate[1];\n                monthDate = abbMonths[monthDate - 1];\n\n                let rearrangedDate =\n                  monthDate +\n                  \" \" +\n                  splitDate.splice(2).join(\" \") +\n                  \", \" +\n                  splitDate[0];\n\n                let ratedR = \"#a10000\";\n                let ratedPG13 = \"#023e8a\";\n                let ratedPG = \"#023e8a\";\n\n                return (\n                  <Card key={key}>\n                    <Title id={display_title}>{display_title}</Title>\n                    {rating ? (\n                      <Rating>\n                        Rated{\" \"}\n                        <span\n                          style={\n                            rating === \"R\"\n                              ? {\n                                  color: ratedR,\n                                  font: \" 600 1rem barlow\",\n                                  marginLeft: \"5px\",\n                                  borderRadius: \"4px\",\n                                  background: \"#0001\",\n                                  padding: \"5px 10px\",\n                                }\n                              : rating === \"PG\"\n                              ? {\n                                  color: ratedPG,\n                                  font: \" 600 1rem barlow\",\n                                  marginLeft: \"5px\",\n                                  borderRadius: \"4px\",\n                                  background: \"#0001\",\n                                  padding: \"5px 6px\",\n                                }\n                              : rating === \"PG13\"\n                              ? {\n                                  color: ratedPG13,\n                                  font: \" 600 1rem barlow\",\n                                  marginLeft: \"5px\",\n                                  borderRadius: \"4px\",\n                                  background: \"#0001\",\n                                  padding: \"5px 7px\",\n                                }\n                              : {\n                                  color: \"#5a189a\",\n                                  font: \" 600 1rem barlow\",\n                                  marginLeft: \"5px\",\n                                  borderRadius: \"4px\",\n                                  background: \"#0001\",\n                                  padding: \"4px\",\n                                }\n                          }\n                        >\n                          {rating}\n                        </span>\n                      </Rating>\n                    ) : (\n                      <Rating>Not Yet Rated</Rating>\n                    )}\n                    <Date>\n                      Released on{\" \"}\n                      <span style={{ font: \"500 1rem barlow\", color: \"#000\" }}>\n                        {rearrangedDate}\n                      </span>\n                    </Date>\n\n                    <Snapshot>Snapshot:</Snapshot>\n                    <MovieSnapshot src={multimedia.src} alt={display_title} />\n\n                    <DescriptionButton className=\"summary-button\">\n                      View Summary\n                    </DescriptionButton>\n                    <SummaryBox className=\"summary\">\n                      <Summary>{summary_short}</Summary>\n                    </SummaryBox>\n                  </Card>\n                );\n              })}\n          </MovieContainer>\n        </div>\n      ) : (\n        <div className=\"loader\"></div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}