{"ast":null,"code":"var _jsxFileName = \"/Users/charliearboleda/dev/NYTimesBestSeller/src/components/idpage.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nconst CardContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\nconst Card = styled.div`\n  margin: 10px auto;\n  padding: 10px;\n  border: 1px solid;\n  width: 20vw;\n`;\nconst Title = styled.h3`\n  color: blue;\n`;\nconst ProductUrl = styled.a`\n  color: red;\n`;\nconst Author = styled.h5`\n  color: green;\n`;\nconst Description = styled.p`\n  color: black;\n`;\nconst Dropdown = styled.select`\n  width: 150px;\n  height: 30px;\n  font-size: 16px;\n  font-weight: 200;\n  font-family: sen;\n  border: 1px solid #0009;\n  outline: none;\n  border-radius: 4px;\n`;\nexport default function IdPage() {\n  const [bookList, setBookList] = useState([]);\n  const loading = useSelector(state => state.loading);\n  const params = useParams();\n  useEffect(() => {\n    fetchBookList(); // eslint-disable-next-line\n  }, [params]);\n\n  const fetchBookList = async () => {\n    const bookListUrl = \"https://api.nytimes.com/svc/books/v3/lists.json?list\";\n    const apiKey = \"FGuAAGxWuiRNhKjRZsrPKUUiSbtOJUG1\";\n    const response = await axios.get(`${bookListUrl}=${params.idpage}&api-key=${apiKey}`).catch(err => {\n      console.log(err);\n    });\n    setBookList(response.data.results);\n  };\n\n  const sortBooks = type => {\n    const sorted = [...bookList].sort((a, b) => a.book_details[0][type] > b.book_details[0][type] ? 1 : b.book_details[0][type] > a.book_details[0][type] || b[type] > a[type] ? -1 : 0);\n    setBookList(sorted);\n    console.log(sorted);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, !loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    id: \"sorting-option\",\n    onChange: e => sortBooks(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"rank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Default\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"By Title\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"author\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"By Author\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"publisher\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"By Publisher\")), /*#__PURE__*/React.createElement(CardContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, bookList.map((books, key) => {\n    return /*#__PURE__*/React.createElement(Card, {\n      key: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ProductUrl, {\n      href: books.amazon_product_url,\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 19\n      }\n    }, \"Buy Book\"), /*#__PURE__*/React.createElement(Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 19\n      }\n    }, books.book_details[0].title), /*#__PURE__*/React.createElement(Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 19\n      }\n    }, books.book_details[0].publisher), /*#__PURE__*/React.createElement(Author, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 19\n      }\n    }, books.book_details[0].author), /*#__PURE__*/React.createElement(Description, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    }, books.book_details[0].description));\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/charliearboleda/dev/NYTimesBestSeller/src/components/idpage.js"],"names":["React","useEffect","useState","useParams","useSelector","axios","styled","CardContainer","div","Card","Title","h3","ProductUrl","a","Author","h5","Description","p","Dropdown","select","IdPage","bookList","setBookList","loading","state","params","fetchBookList","bookListUrl","apiKey","response","get","idpage","catch","err","console","log","data","results","sortBooks","type","sorted","sort","b","book_details","e","target","value","map","books","key","amazon_product_url","title","publisher","author","description"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { useSelector } from \"react-redux\";\n\nimport axios from \"axios\";\n\nimport styled from \"styled-components\";\n\nconst CardContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst Card = styled.div`\n  margin: 10px auto;\n  padding: 10px;\n  border: 1px solid;\n  width: 20vw;\n`;\n\nconst Title = styled.h3`\n  color: blue;\n`;\n\nconst ProductUrl = styled.a`\n  color: red;\n`;\n\nconst Author = styled.h5`\n  color: green;\n`;\n\nconst Description = styled.p`\n  color: black;\n`;\n\nconst Dropdown = styled.select`\n  width: 150px;\n  height: 30px;\n  font-size: 16px;\n  font-weight: 200;\n  font-family: sen;\n  border: 1px solid #0009;\n  outline: none;\n  border-radius: 4px;\n`;\n\nexport default function IdPage() {\n  const [bookList, setBookList] = useState([]);\n\n  const loading = useSelector((state) => state.loading);\n\n  const params = useParams();\n\n  useEffect(() => {\n    fetchBookList();\n    // eslint-disable-next-line\n  }, [params]);\n\n  const fetchBookList = async () => {\n    const bookListUrl = \"https://api.nytimes.com/svc/books/v3/lists.json?list\";\n    const apiKey = \"FGuAAGxWuiRNhKjRZsrPKUUiSbtOJUG1\";\n\n    const response = await axios\n      .get(`${bookListUrl}=${params.idpage}&api-key=${apiKey}`)\n      .catch((err) => {\n        console.log(err);\n      });\n\n    setBookList(response.data.results);\n  };\n\n  const sortBooks = (type) => {\n    const sorted = [...bookList].sort((a, b) =>\n      a.book_details[0][type] > b.book_details[0][type]\n        ? 1\n        : b.book_details[0][type] > a.book_details[0][type] || b[type] > a[type]\n        ? -1\n        : 0\n    );\n    setBookList(sorted);\n    console.log(sorted);\n  };\n\n  return (\n    <div>\n      {!loading ? (\n        <div>\n          <Dropdown\n            id=\"sorting-option\"\n            onChange={(e) => sortBooks(e.target.value)}\n          >\n            <option value=\"rank\">Default</option>\n            <option value=\"title\">By Title</option>\n            <option value=\"author\">By Author</option>\n            <option value=\"publisher\">By Publisher</option>\n          </Dropdown>\n\n          <CardContainer>\n            {bookList.map((books, key) => {\n              return (\n                <Card key={key}>\n                  <ProductUrl href={books.amazon_product_url} target=\"_blank\">\n                    Buy Book\n                  </ProductUrl>\n                  <Title>{books.book_details[0].title}</Title>\n                  <Title>{books.book_details[0].publisher}</Title>\n\n                  <Author>{books.book_details[0].author}</Author>\n                  <Description>{books.book_details[0].description}</Description>\n                </Card>\n              );\n            })}\n          </CardContainer>\n        </div>\n      ) : (\n        <div className=\"loader-div\">\n          <div className=\"loader\"></div>\n        </div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}